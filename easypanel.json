{
  "services": [
    {
      "type": "app",
      "data": {
        "projectName": "hackathon-5",
        "serviceName": "hackathon-5-backend",
        "source": {
          "type": "github",
          "owner": "Tav-Web",
          "repo": "hackathon-5",
          "ref": "main",
          "path": "/backend",
          "autoDeploy": true
        },
        "build": {
          "type": "dockerfile"
        },
        "env": "ENVIRONMENT=production\nDEBUG=false\nAPI_V1_PREFIX=/api/v1\nPROJECT_NAME=Change Detector API\nDATABASE_URL=postgresql://hackathon:CHANGE_ME_DB_PASSWORD@hackathon-5_hackathon-5-postgres:5432/hackathon\nCORS_ORIGINS=[\"https://hackathon5.srv1.tavweb.dev.br\"]\nMINIO_ENDPOINT=hackathon-5_hackathon-5-minio:9000\nMINIO_ROOT_USER=minioadmin\nMINIO_ROOT_PASSWORD=CHANGE_ME_MINIO_PASSWORD\nMINIO_BUCKET=hackathon\nMINIO_SECURE=false\nCELERY_BROKER_URL=redis://hackathon-5_hackathon-5-redis:6379/0\nCELERY_RESULT_BACKEND=redis://hackathon-5_hackathon-5-redis:6379/0\nGEE_PROJECT_ID=CHANGE_ME_GEE_PROJECT_ID\nGEE_SERVICE_ACCOUNT_JSON=CHANGE_ME_GEE_SERVICE_ACCOUNT_JSON\nOPENROUTER_API_KEY=CHANGE_ME_OPENROUTER_API_KEY\nOPENROUTER_MODEL=google/gemini-3-flash-preview",
        "deploy": {
          "replicas": 1,
          "command": null,
          "zeroDowntime": true
        },
        "domains": [
          {
            "host": "hackathon5api.srv1.tavweb.dev.br",
            "https": true,
            "port": 8000,
            "path": "/",
            "middlewares": [],
            "certificateResolver": "",
            "wildcard": false,
            "internalProtocol": "http"
          }
        ],
        "mounts": [
          {
            "type": "volume",
            "name": "uploads-data",
            "mountPath": "/app/uploads"
          }
        ]
      }
    },
    {
      "type": "app",
      "data": {
        "projectName": "hackathon-5",
        "serviceName": "hackathon-5-celery",
        "source": {
          "type": "github",
          "owner": "Tav-Web",
          "repo": "hackathon-5",
          "ref": "main",
          "path": "/backend",
          "autoDeploy": true
        },
        "build": {
          "type": "dockerfile"
        },
        "env": "ENVIRONMENT=production\nDEBUG=false\nDATABASE_URL=postgresql://hackathon:CHANGE_ME_DB_PASSWORD@hackathon-5_hackathon-5-postgres:5432/hackathon\nMINIO_ENDPOINT=hackathon-5_hackathon-5-minio:9000\nMINIO_ROOT_USER=minioadmin\nMINIO_ROOT_PASSWORD=CHANGE_ME_MINIO_PASSWORD\nMINIO_BUCKET=hackathon\nCELERY_BROKER_URL=redis://hackathon-5_hackathon-5-redis:6379/0\nCELERY_RESULT_BACKEND=redis://hackathon-5_hackathon-5-redis:6379/0\nGEE_PROJECT_ID=CHANGE_ME_GEE_PROJECT_ID\nGEE_SERVICE_ACCOUNT_JSON=CHANGE_ME_GEE_SERVICE_ACCOUNT_JSON\nOPENROUTER_API_KEY=CHANGE_ME_OPENROUTER_API_KEY\nOPENROUTER_MODEL=google/gemini-3-flash-preview",
        "deploy": {
          "replicas": 1,
          "command": "/app/scripts/celery_entrypoint.sh",
          "zeroDowntime": false
        },
        "mounts": [
          {
            "type": "volume",
            "name": "uploads-data",
            "mountPath": "/app/uploads"
          }
        ]
      }
    },
    {
      "type": "app",
      "data": {
        "projectName": "hackathon-5",
        "serviceName": "hackathon-5-frontend",
        "source": {
          "type": "github",
          "owner": "Tav-Web",
          "repo": "hackathon-5",
          "ref": "main",
          "path": "/frontend",
          "autoDeploy": true
        },
        "build": {
          "type": "dockerfile"
        },
        "env": "NEXT_PUBLIC_API_URL=https://hackathon5api.srv1.tavweb.dev.br/api/v1\nNODE_ENV=production",
        "deploy": {
          "replicas": 1,
          "command": null,
          "zeroDowntime": true
        },
        "domains": [
          {
            "host": "hackathon5.srv1.tavweb.dev.br",
            "https": true,
            "port": 3000,
            "path": "/",
            "middlewares": [],
            "certificateResolver": "",
            "wildcard": false,
            "internalProtocol": "http"
          }
        ]
      }
    },
    {
      "type": "app",
      "data": {
        "projectName": "hackathon-5",
        "serviceName": "hackathon-5-postgres",
        "source": {
          "type": "image",
          "image": "postgis/postgis:16-3.4"
        },
        "env": "POSTGRES_DB=hackathon\nPOSTGRES_USER=hackathon\nPOSTGRES_PASSWORD=CHANGE_ME_DB_PASSWORD\nPGDATA=/var/lib/postgresql/data/pgdata",
        "deploy": {
          "replicas": 1,
          "command": null,
          "zeroDowntime": false
        },
        "mounts": [
          {
            "type": "volume",
            "name": "postgres-data",
            "mountPath": "/var/lib/postgresql/data"
          }
        ]
      }
    },
    {
      "type": "app",
      "data": {
        "projectName": "hackathon-5",
        "serviceName": "hackathon-5-redis",
        "source": {
          "type": "image",
          "image": "redis:8-alpine"
        },
        "env": "",
        "deploy": {
          "replicas": 1,
          "command": "redis-server --appendonly yes --maxmemory 512mb --maxmemory-policy allkeys-lru",
          "zeroDowntime": false
        },
        "mounts": [
          {
            "type": "volume",
            "name": "redis-data",
            "mountPath": "/data"
          }
        ]
      }
    },
    {
      "type": "app",
      "data": {
        "projectName": "hackathon-5",
        "serviceName": "hackathon-5-minio",
        "source": {
          "type": "image",
          "image": "minio/minio:latest"
        },
        "env": "MINIO_ROOT_USER=minioadmin\nMINIO_ROOT_PASSWORD=CHANGE_ME_MINIO_PASSWORD",
        "deploy": {
          "replicas": 1,
          "command": "server /data --console-address :9001",
          "zeroDowntime": false
        },
        "domains": [
          {
            "host": "hackathon5minio.srv1.tavweb.dev.br",
            "https": true,
            "port": 9001,
            "path": "/",
            "middlewares": [],
            "certificateResolver": "",
            "wildcard": false,
            "internalProtocol": "http"
          }
        ],
        "mounts": [
          {
            "type": "volume",
            "name": "minio-data",
            "mountPath": "/data"
          }
        ]
      }
    }
  ]
}
